<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>학습 관리 시스템</title>
    <link rel="stylesheet" href="css/styles.css">
    <script src="https://cdn.portone.io/v2/browser-sdk.js"></script>

</head>
<body>
    <header>
        <h1>학습 관리 시스템</h1>
        <nav>
            <ul>
                <li><a href="#" id="loginLink">로그인</a></li>
                <li><a href="#" id="registerLink">회원가입</a></li>
                <li><a href="#" id="profileLink" style="display:none;">프로필</a></li>
                <li><a href="#" id="logoutLink" style="display:none;">로그아웃</a></li>
                <li><a href="#" id="missionLink">미션</a></li>
                <li><a href="#" id="courseLink">과목</a></li>
                <li><a href="#" id="paymentLink">결제</a></li>
            </ul>
        </nav>
    </header>

    <main id="mainContent">
        <!-- 기존 내용 -->
        <div id="paymentSection" style="display: none;">
            <h1>결제 페이지</h1>
            <select id="course-select">
                <option value="">코스를 선택하세요</option>
                <option value="1">코스 1</option>
                <option value="2">코스 2</option>
                <option value="3">코스 3</option>
            </select>
            <input type="text" id="coupon-code" placeholder="쿠폰 코드 입력">
            <button id="apply-coupon">쿠폰 적용</button>
            <button id="payment-button" disabled>결제하기</button>
        </div>
        <div id="missionSection" style="display: none;">
            <div id="missionList"></div>
            <div id="missionDetail"></div>
        </div>
    </main>
    <a href="#" id="showMissionListLink">미션 목록 보기</a>

    <script src="js/auth.js"></script>
    <script src="js/admin.js"></script>
    <script src="js/user.js"></script>
    <script src="js/mission.js"></script>
    <script src="js/courses.js"></script>
    <script src="js/payment.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            console.log('DOM fully loaded');
            document.getElementById('loginLink').addEventListener('click', (e) => {
                e.preventDefault();
                console.log('Login clicked');
                showLoginForm();
            });
            document.getElementById('registerLink').addEventListener('click', (e) => {
                e.preventDefault();
                console.log('Register clicked');
                showRegisterForm();
            });
            document.getElementById('missionLink').addEventListener('click', (e) => {
                e.preventDefault();
                console.log('Mission clicked');
                showMissionList();  // listMissions() 대신 showMissionList() 사용
            });
            document.getElementById('courseLink').addEventListener('click', (e) => {
                e.preventDefault();
                console.log('Course clicked');
                initCourses();
            });

            document.getElementById('paymentLink').addEventListener('click', (e) => {
                e.preventDefault();
                console.log('Payment clicked');
                let paymentSection = document.getElementById('paymentSection');
                if (!paymentSection) {
                    console.log('Payment section not found, creating it');
                    createPaymentSection();
                    paymentSection = document.getElementById('paymentSection');
                }
                if (paymentSection) {
                    paymentSection.style.display = 'block';
                    initPayment();
                } else {
                    console.error('Failed to create or find payment section');
                }
            });

        });
    </script>
</body>
</html>

